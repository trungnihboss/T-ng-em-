<!DOCTYPE html>
<html lang="vi">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Thế giới tình cảm dành cho em</title>
    <style>
        body {
            margin: 0;
            overflow: hidden;
            font-family: 'Arial', sans-serif;
        }
        canvas {
            display: block;
        }
        #info {
            position: absolute;
            top: 10px;
            width: 100%;
            text-align: center;
            color: white;
            font-size: 18px;
            text-shadow: 0 0 5px #ff69b4;
            pointer-events: none;
        }
        #heart {
            position: absolute;
            width: 100px;
            height: 100px;
            background: url('data:image/svg+xml;utf8,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path fill="rgba(255,105,180,0.7)" d="M12 21.35l-1.45-1.32C5.4 15.36 2 12.28 2 8.5 2 5.42 4.42 3 7.5 3c1.74 0 3.41.81 4.5 2.09C13.09 3.81 14.76 3 16.5 3 19.58 3 22 5.42 22 8.5c0 3.78-3.4 6.86-8.55 11.54L12 21.35z"/></svg>') no-repeat;
            pointer-events: none;
            animation: pulse 1.5s ease-in-out infinite;
        }
        @keyframes pulse {
            0% { transform: scale(1); opacity: 0.7; }
            50% { transform: scale(1.1); opacity: 1; }
            100% { transform: scale(1); opacity: 0.7; }
        }
    </style>
</head>
<body>
    <div id="info">Thế giới này được tạo ra chỉ để dành cho em ❤️</div>
    <div id="heart"></div>
    
    <script src="https://cdnjs.cloudflare.com/ajax/libs/three.js/r128/three.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/three@0.128.0/examples/js/controls/OrbitControls.min.js"></script>
    <script>
        // Khởi tạo scene với background gradient
        const scene = new THREE.Scene();
        const bgTexture = new THREE.CanvasTexture(createGradientCanvas());
        scene.background = bgTexture;
        
        // Camera
        const camera = new THREE.PerspectiveCamera(60, window.innerWidth / window.innerHeight, 0.1, 1000);
        camera.position.set(0, 10, 50);
        
        // Renderer
        const renderer = new THREE.WebGLRenderer({ antialias: true, alpha: true });
        renderer.setSize(window.innerWidth, window.innerHeight);
        renderer.setPixelRatio(window.devicePixelRatio);
        document.body.appendChild(renderer.domElement);
        
        // Điều khiển camera
        const controls = new THREE.OrbitControls(camera, renderer.domElement);
        controls.enableDamping = true;
        controls.dampingFactor = 0.05;
        controls.minDistance = 20;
        controls.maxDistance = 100;
        
        // Ánh sáng
        const ambientLight = new THREE.AmbientLight(0xffffff, 0.5);
        scene.add(ambientLight);
        
        const directionalLight = new THREE.DirectionalLight(0xffddcc, 1);
        directionalLight.position.set(1, 1, 1);
        scene.add(directionalLight);
        
        const pointLight = new THREE.PointLight(0xffbbaa, 2, 50);
        pointLight.position.set(0, 20, 0);
        scene.add(pointLight);
        
        // Danh sách các câu tình cảm
        const loveMessages = [
            "Em là tia nắng ban mai",
            "Ánh mắt em làm tim anh say đắm",
            "Nụ cười em ấm áp như mùa xuân",
            "Em là điều tuyệt vời nhất",
            "Anh yêu em nhiều hơn mọi từ ngữ",
            "Mỗi ngày bên em là một ngày hạnh phúc",
            "Em đẹp từng centimet",
            "Trái tim anh thuộc về em",
            "Em là nàng thơ của đời anh",
            "Cảm ơn em đã đến bên anh",
            "Yêu em từ cái nhìn đầu tiên",
            "Em làm cuộc sống anh trọn vẹn",
            "Mãi bên nhau em nhé",
            "Em là tất cả với anh",
            "Anh nhớ em mỗi giây mỗi phút",
            "Hạnh phúc là được yêu em",
            "Em là điều anh tự hào nhất",
            "Tình yêu em là món quà vô giá",
            "Anh sẽ luôn bảo vệ và yêu thương em",
            "Em xinh đẹp cả bên ngoài lẫn tâm hồn"
        ];
        
        const fallingTexts = [];
        
        // Tạo hình chữ
        const loader = new THREE.FontLoader();
        loader.load('https://cdn.jsdelivr.net/npm/three@0.128.0/examples/fonts/helvetiker_regular.typeface.json', function(font) {
            // Tạo các câu tình cảm bay lượn
            for (let i = 0; i < 30; i++) {
                createFloatingText(font, loveMessages[i % loveMessages.length]);
            }
            
            // Tạo dòng chữ chính
            createMainText(font, "Gửi em yêu ❤️");
        });
        
        function createFloatingText(font, message) {
            const textGeo = new THREE.TextGeometry(message, {
                font: font,
                size: 0.8,
                height: 0.1,
                curveSegments: 12,
                bevelEnabled: false
            });
            
            // Màu sắc ngẫu nhiên nhưng nhẹ nhàng
            const hue = Math.random() * 0.3 + (Math.random() > 0.5 ? 0.6 : 0.1);
            const color = new THREE.Color().setHSL(hue, 0.9, 0.7);
            
            const material = new THREE.MeshPhongMaterial({
                color: color,
                specular: 0xffffff,
                shininess: 50,
                transparent: true,
                opacity: 0.9
            });
            
            const mesh = new THREE.Mesh(textGeo, material);
            
            // Vị trí ngẫu nhiên trong không gian
            mesh.position.x = Math.random() * 60 - 30;
            mesh.position.y = Math.random() * 40 - 10;
            mesh.position.z = Math.random() * 60 - 30;
            
            // Xoay ngẫu nhiên
            mesh.rotation.x = Math.random() * Math.PI;
            mesh.rotation.y = Math.random() * Math.PI;
            
            // Thông tin chuyển động
            mesh.userData = {
                velocity: Math.random() * 0.05 + 0.02,
                startY: mesh.position.y,
                rotationSpeed: {
                    x: Math.random() * 0.01 - 0.005,
                    y: Math.random() * 0.01 - 0.005
                },
                floatRange: Math.random() * 5 + 5,
                timeOffset: Math.random() * 100
            };
            
            scene.add(mesh);
            fallingTexts.push(mesh);
        }
        
        function createMainText(font, message) {
            const textGeo = new THREE.TextGeometry(message, {
                font: font,
                size: 2.5,
                height: 0.5,
                curveSegments: 24,
                bevelEnabled: true,
                bevelThickness: 0.2,
                bevelSize: 0.1
            });
            
            textGeo.center();
            
            const material = new THREE.MeshPhongMaterial({
                color: 0xff69b4,
                specular: 0xffc0cb,
                shininess: 100,
                emissive: 0xff1493,
                emissiveIntensity: 0.3
            });
            
            const textMesh = new THREE.Mesh(textGeo, material);
            textMesh.position.y = 5;
            textMesh.position.z = -10;
            
            // Hiệu ứng lấp lánh
            setInterval(() => {
                material.emissiveIntensity = 0.2 + Math.random() * 0.3;
            }, 300);
            
            scene.add(textMesh);
        }
        
        // Sàn nhà với hiệu ứng phản chiếu
        const floorGeometry = new THREE.CircleGeometry(50, 64);
        const floorMaterial = new THREE.MeshStandardMaterial({
            color: 0x333344,
            roughness: 0.1,
            metalness: 0.7,
            transparent: true,
            opacity: 0.8
        });
        
        const floor = new THREE.Mesh(floorGeometry, floorMaterial);
        floor.rotation.x = -Math.PI / 2;
        floor.position.y = -15;
        scene.add(floor);
        
        // Tạo background gradient
        function createGradientCanvas() {
            const canvas = document.createElement('canvas');
            canvas.width = 1024;
            canvas.height = 512;
            const ctx = canvas.getContext('2d');
            
            const gradient = ctx.createLinearGradient(0, 0, 0, canvas.height);
            gradient.addColorStop(0, '#1a1a2e');
            gradient.addColorStop(0.5, '#16213e');
            gradient.addColorStop(1, '#0f3460');
            
            ctx.fillStyle = gradient;
            ctx.fillRect(0, 0, canvas.width, canvas.height);
            
            // Thêm sao lấp lánh
            for (let i = 0; i < 200; i++) {
                const x = Math.random() * canvas.width;
                const y = Math.random() * canvas.height;
                const radius = Math.random() * 1.5;
                const alpha = Math.random() * 0.8 + 0.2;
                
                ctx.beginPath();
                ctx.arc(x, y, radius, 0, Math.PI * 2);
                ctx.fillStyle = `rgba(255, 255, 255, ${alpha})`;
                ctx.fill();
            }
            
            return canvas;
        }
        
        // Hiệu ứng trái tim theo chuột
        document.addEventListener('mousemove', (e) => {
            const heart = document.getElementById('heart');
            heart.style.left = (e.clientX - 50) + 'px';
            heart.style.top = (e.clientY - 50) + 'px';
        });
        
        // Xử lý resize window
        window.addEventListener('resize', () => {
            camera.aspect = window.innerWidth / window.innerHeight;
            camera.updateProjectionMatrix();
            renderer.setSize(window.innerWidth, window.innerHeight);
        });
        
        // Animation loop
        function animate() {
            requestAnimationFrame(animate);
            
            const time = Date.now() * 0.001;
            
            // Cập nhật chuyển động các chữ
            fallingTexts.forEach(text => {
                // Chuyển động lên xuống nhẹ nhàng
                text.position.y = text.userData.startY + Math.sin(time + text.userData.timeOffset) * text.userData.floatRange;
                
                // Xoay chữ
                text.rotation.x += text.userData.rotationSpeed.x;
                text.rotation.y += text.userData.rotationSpeed.y;
                
                // Di chuyển nhẹ theo trục x và z
                text.position.x += Math.sin(time * 0.3 + text.userData.timeOffset) * 0.05;
                text.position.z += Math.cos(time * 0.2 + text.userData.timeOffset) * 0.05;
            });
            
            controls.update();
            renderer.render(scene, camera);
        }
        
        animate();
    </script>
</body>
</html>
