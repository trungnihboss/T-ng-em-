<!DOCTYPE html>
<html lang="vi">
<head>
  <meta charset="UTF-8" />
  <title>Không gian 3D cho Thư 💖</title>
  <style>
    html, body {
      margin: 0;
      padding: 0;
      overflow: hidden;
      height: 100%;
      background: radial-gradient(circle, #111, #000);
      font-family: sans-serif;
      perspective: 1000px;
      touch-action: none;
    }

    .scene {
      width: 100vw;
      height: 100vh;
      transform-style: preserve-3d;
      position: relative;
      transition: transform 0.1s ease-out;
    }

    .word {
      position: absolute;
      top: 0;
      left: 0;
      font-size: 2rem;
      font-weight: bold;
      color: white;
      text-shadow:
        0 0 4px #ff99cc,
        0 0 12px #ff66cc,
        0 0 24px #ff33cc;
      animation: fall linear infinite;
      white-space: nowrap;
    }

    @keyframes fall {
      0% {
        transform: translateY(-100px);
        opacity: 1;
      }
      100% {
        transform: translateY(120vh);
        opacity: 0.2;
      }
    }
  </style>
</head>
<body>

<div class="scene" id="scene"></div>

<script>
  const scene = document.getElementById('scene');

  const phrases = [
    "Gửi bạn Thư siêu xinh đẹp 💖",
    "Món quà nhỏ 🎁",
    "Dễ thương vô cực 🌸",
    "Chúc ngày vui tươi 🌞",
    "Tỏa sáng như ngôi sao ✨",
    "Thư cute số 1 🐰",
    "Bạn là nhất 💕",
    "Lấp lánh giữa trời đêm 🌟"
  ];

  const count = 80;

  for (let i = 0; i < count; i++) {
    const word = document.createElement('div');
    word.className = 'word';
    word.textContent = phrases[Math.floor(Math.random() * phrases.length)];

    const x = Math.random() * window.innerWidth;
    const z = Math.random() * -1000; // khoảng cách chiều sâu
    const delay = Math.random() * 5;
    const duration = 4 + Math.random() * 6;

    word.style.left = `${x}px`;
    word.style.transform = `translateZ(${z}px)`;
    word.style.animationDuration = `${duration}s`;
    word.style.animationDelay = `${delay}s`;

    scene.appendChild(word);
  }

  // Điều khiển góc nhìn bằng cảm ứng chạm
  let rotateX = 0;
  let rotateY = 0;
  let lastX, lastY;
  let isTouching = false;

  document.addEventListener('touchstart', (e) => {
    isTouching = true;
    lastX = e.touches[0].clientX;
    lastY = e.touches[0].clientY;
  });

  document.addEventListener('touchmove', (e) => {
    if (!isTouching) return;
    const currentX = e.touches[0].clientX;
    const currentY = e.touches[0].clientY;
    const dx = currentX - lastX;
    const dy = currentY - lastY;

    rotateY += dx * 0.2;
    rotateX -= dy * 0.2;

    rotateX = Math.max(-45, Math.min(45, rotateX));

    scene.style.transform = `rotateX(${rotateX}deg) rotateY(${rotateY}deg)`;

    lastX = currentX;
    lastY = currentY;
  });

  document.addEventListener('touchend', () => {
    isTouching = false;
  });
</script>

</body>
</html>
